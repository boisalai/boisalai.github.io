"use strict";(self.webpackChunkmy_doc=self.webpackChunkmy_doc||[]).push([[2072],{22010:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=n(85893),t=n(11151);const i={sidebar_label:"Vector Databases from Embeddings to Applications",sidebar_position:6},r="Vector Databases: from Embeddings to Applications",l={id:"courses/deeplearning-ai/p06-vector-database/index",title:"Vector Databases: from Embeddings to Applications",description:"DeepLearning.AI and Weaviate.",source:"@site/docs/courses/deeplearning-ai/p06-vector-database/index.md",sourceDirName:"courses/deeplearning-ai/p06-vector-database",slug:"/courses/deeplearning-ai/p06-vector-database/",permalink:"/docs/courses/deeplearning-ai/p06-vector-database/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/courses/deeplearning-ai/p06-vector-database/index.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_label:"Vector Databases from Embeddings to Applications",sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Pair Programming with a Large Language Model",permalink:"/docs/courses/deeplearning-ai/p04-pair-prog-with-llm"},next:{title:"LangChain Chat with Your Data",permalink:"/docs/courses/deeplearning-ai/p07-chat-with-your-data/"}},c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"How to obtain vector representations of data?",id:"how-to-obtain-vector-representations-of-data",level:3},{value:"Visualize Embeddings",id:"visualize-embeddings",level:4},{value:"Example: compare three embeddings",id:"example-compare-three-embeddings",level:3},{value:"Using more advanced models based on the Transformer architechture you can embed sentences aswell",id:"using-more-advanced-models-based-on-the-transformer-architechture-you-can-embed-sentences-aswell",level:3},{value:"How can we measure the distance between these Image and Sentence Embeddings?",id:"how-can-we-measure-the-distance-between-these-image-and-sentence-embeddings",level:3},{value:"Euclidean Distance (L2)",id:"euclidean-distance-l2",level:4},{value:"Manhattan Distance (L1)",id:"manhattan-distance-l1",level:4},{value:"Dot Product",id:"dot-product",level:4},{value:"Cosine Distance",id:"cosine-distance",level:4},{value:"Now with the sentence embeddings",id:"now-with-the-sentence-embeddings",level:3},{value:"Search for Similar Vectors",id:"search-for-similar-vectors",level:2},{value:"K Nearest Neighbors",id:"k-nearest-neighbors",level:3},{value:"Brute force kNN implemented by hand on <code>768</code> dimensional embeddings",id:"brute-force-knn-implemented-by-hand-on-768-dimensional-embeddings",level:3},{value:"Approximate Nearest Neighbors",id:"approximate-nearest-neighbors",level:2},{value:"Vector Database setup",id:"vector-database-setup",level:3},{value:"Step 1 - Download sample data",id:"step-1---download-sample-data",level:3},{value:"Step 2 - Create an embedded instance of Weaviate vector database",id:"step-2---create-an-embedded-instance-of-weaviate-vector-database",level:3},{value:"Step 3 - Create Question collection",id:"step-3---create-question-collection",level:3},{value:"Step 4 - Load sample data and generate vector embeddings",id:"step-4---load-sample-data-and-generate-vector-embeddings",level:3},{value:"Let&#39;s Extract the vector that represents each question!",id:"lets-extract-the-vector-that-represents-each-question",level:3},{value:"Query time",id:"query-time",level:3},{value:"We can let the vector database know to remove results after a threshold distance!",id:"we-can-let-the-vector-database-know-to-remove-results-after-a-threshold-distance",level:3},{value:"Vector Databases support for CRUD operations",id:"vector-databases-support-for-crud-operations",level:3},{value:"Create",id:"create",level:4},{value:"Read",id:"read",level:4},{value:"Update",id:"update",level:4},{value:"Delete",id:"delete",level:4},{value:"Sparse, Dense, and Hybrid Search",id:"sparse-dense-and-hybrid-search",level:2},{value:"BM25",id:"bm25",level:3},{value:"Remove old Weaviate DB files",id:"remove-old-weaviate-db-files",level:3},{value:"Recreate the example",id:"recreate-the-example",level:3},{value:"Queries",id:"queries",level:3},{value:"Dense Search",id:"dense-search",level:4},{value:"Sparse Search - BM25",id:"sparse-search---bm25",level:4},{value:"Hybrid Search",id:"hybrid-search",level:4},{value:"Application - Multilingual Search",id:"application---multilingual-search",level:2},{value:"How many vectors are stored in this database",id:"how-many-vectors-are-stored-in-this-database",level:3},{value:"Perform search over them to find concepts you are interested in!",id:"perform-search-over-them-to-find-concepts-you-are-interested-in",level:3},{value:"Retrieval Augmented Generation",id:"retrieval-augmented-generation",level:3},{value:"Single Prompt",id:"single-prompt",level:4},{value:"Group Task",id:"group-task",level:4}];function m(e){const s={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msqrt:"msqrt",msub:"msub",msup:"msup",mtext:"mtext",munderover:"munderover",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",strong:"strong",svg:"svg",ul:"ul",...(0,t.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h1,{id:"vector-databases-from-embeddings-to-applications",children:"Vector Databases: from Embeddings to Applications"}),"\n",(0,a.jsx)(s.p,{children:"DeepLearning.AI and Weaviate."}),"\n",(0,a.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsx)(s.p,{children:"In this course, we will learn:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"How to obtain vector representations of data? (embeddings)"}),"\n",(0,a.jsx)(s.li,{children:"Searching for similar vectors (distance metrics)"}),"\n",(0,a.jsxs)(s.li,{children:["Approximate nearest neighbors","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"ANN - Trade recall for accuracy"}),"\n",(0,a.jsx)(s.li,{children:"HNSW"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["Vector DB's","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"CRUD operations"}),"\n",(0,a.jsx)(s.li,{children:"Objects + vectors"}),"\n",(0,a.jsx)(s.li,{children:"Inverted index - filtered search"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["Sparce vs Dense vectors","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"ANN search over dense embeddings"}),"\n",(0,a.jsx)(s.li,{children:"Sparse search"}),"\n",(0,a.jsx)(s.li,{children:"Hybrid search"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.li,{children:"Application of vector DBs in industry"}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"how-to-obtain-vector-representations-of-data",children:"How to obtain vector representations of data?"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"MNIST Data Handling:"})," The code loads the MNIST dataset of handwritten digits, normalizes the pixel values, and reshapes the images into flat vectors suitable for input into a neural network."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Data Normalization and Reshaping:"})," The pixel values are normalized to range between 0 and 1, and images are flattened from 28x28 matrices to 784-element vectors."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Variational Autoencoder Architecture:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Encoder:"})," Maps the input to a latent space representation, consisting of dense layers that reduce dimensions from 784 to a predefined number of latent variables (",(0,a.jsx)(s.code,{children:"z_dim"}),"). It captures two parameters: mean (mu) and log-variance (log_var), which define a distribution for each latent variable."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Sampling Function:"})," Generates a latent space point using the parameters from the encoder and a random element from a normal distribution, introducing stochasticity to the model and allowing it to generate new data points."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Decoder:"})," Takes the sampled latent variables and reconstructs the input data by mapping them back to the original input space (784 dimensions) through dense layers."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Loss Function:"})," Comprises two parts:","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Reconstruction Loss:"})," Ensures the decoded samples closely match the original inputs, encouraging the network to learn a useful representation of the data."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"KL Divergence:"})," Acts as a regularizer by forcing the distribution of the latent variables to approximate a standard normal distribution, enhancing the model's ability to generate new, varied, but plausible data points."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Training:"})," The VAE is trained with the defined parameters over a specified number of epochs and batch size, using the flattened MNIST images. Validation is performed using the test set."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Visualization:"})," Plots an example digit from the MNIST dataset to provide a visual understanding of the input data."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Model Compilation and Fitting:"})," The VAE model is compiled with the Adam optimizer and trained on the data. The loss added is a combination of reconstruction and KL divergence, guiding the model to create a balanced latent space."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"This code provides a complete workflow for building and training a Variational Autoencoder on the MNIST dataset to generate new images that resemble handwritten digits."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"import numpy as np\nimport matplotlib.pyplot as plt\n\nfrom tensorflow.keras.datasets import mnist\nfrom tensorflow.keras.layers import Input, Dense, Lambda\nfrom tensorflow.keras.models import Model\nfrom tensorflow.keras import backend as K\nfrom tensorflow.keras import losses\nfrom scipy.stats import norm\n\n# Load data \u2013 training and test\n(x_tr, y_tr), (x_te, y_te) = mnist.load_data()\n\n#Normalize and Reshape images (flatten)\nx_tr, x_te = x_tr.astype('float32')/255., x_te.astype('float32')/255.\nx_tr_flat, x_te_flat = x_tr.reshape(x_tr.shape[0], -1), x_te.reshape(x_te.shape[0], -1)\n\nprint(x_tr.shape, x_te.shape)\nprint(x_tr_flat.shape, x_te_flat.shape)\n# (60000, 28, 28) (10000, 28, 28)\n# (60000, 784) (10000, 784)\n\n# Neural Network Parameters\nbatch_size, n_epoch = 100, 50\nn_hidden, z_dim = 256, 2\n\n# Example of a training image\nplt.imshow(x_tr[1]);\n\n# sampling function\ndef sampling(args):\n    mu, log_var = args\n    eps = K.random_normal(shape=(batch_size, z_dim), mean=0., stddev=1.0)\n    return mu + K.exp(log_var) * eps\n\n# Encoder - from 784->256->128->2\ninputs_flat = Input(shape=(x_tr_flat.shape[1:]))\nx_flat = Dense(n_hidden, activation='relu')(inputs_flat) # first hidden layer\nx_flat = Dense(n_hidden//2, activation='relu')(x_flat)  # second hidden layer\n\n# hidden state, which we will pass into the Model to get the Encoder.\nmu_flat = Dense(z_dim)(x_flat)\nlog_var_flat = Dense(z_dim)(x_flat)\nz_flat = Lambda(sampling, output_shape=(z_dim,))([mu_flat, log_var_flat])\n\n#Decoder - from 2->128->256->784\nlatent_inputs = Input(shape=(z_dim,))\nz_decoder1 = Dense(n_hidden//2, activation='relu')\nz_decoder2 = Dense(n_hidden, activation='relu')\ny_decoder = Dense(x_tr_flat.shape[1], activation='sigmoid')\nz_decoded = z_decoder1(latent_inputs)\nz_decoded = z_decoder2(z_decoded)\ny_decoded = y_decoder(z_decoded)\ndecoder_flat = Model(latent_inputs, y_decoded, name=\"decoder_conv\")\n\noutputs_flat = decoder_flat(z_flat)\n\n# variational autoencoder (VAE) - to reconstruction input\nreconstruction_loss = losses.binary_crossentropy(inputs_flat,\n                                                 outputs_flat) * x_tr_flat.shape[1]\nkl_loss = 0.5 * K.sum(K.square(mu_flat) + K.exp(log_var_flat) - log_var_flat - 1, axis = -1)\nvae_flat_loss = reconstruction_loss + kl_loss\n\n# Build model\n#  Ensure that the reconstructed outputs are as close to the inputs\nvae_flat = Model(inputs_flat, outputs_flat)\nvae_flat.add_loss(vae_flat_loss)\nvae_flat.compile(optimizer='adam')\n\n# train\nvae_flat.fit(\n    x_tr_flat,\n    shuffle=True,\n    epochs=n_epoch,\n    batch_size=batch_size,\n    validation_data=(x_te_flat, None),\n    verbose=1\n)\n"})}),"\n",(0,a.jsx)(s.h4,{id:"visualize-embeddings",children:"Visualize Embeddings"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"# Build encoders\nencoder_f = Model(inputs_flat, z_flat)  # flat encoder\n\n# Plot of the digit classes in the latent space\nx_te_latent = encoder_f.predict(x_te_flat, batch_size=batch_size,verbose=0)\nplt.figure(figsize=(8, 6))\nplt.scatter(x_te_latent[:, 0], x_te_latent[:, 1], c=y_te, alpha=0.75)\nplt.title('MNIST 2D Embeddings')\nplt.colorbar()\nplt.show()\n"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s01",src:n(99790).Z+"",width:"618",height:"528"})}),"\n",(0,a.jsx)(s.h3,{id:"example-compare-three-embeddings",children:"Example: compare three embeddings"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'plt.imshow(x_te_flat[10].reshape(28,28));\nplt.imshow(x_te_flat[13].reshape(28,28));\nplt.imshow(x_te_flat[2].reshape(28,28));\n\n# calculate vectors for each digit\nzero_A = x_te_latent[10]\nzero_B = x_te_latent[13]\none = x_te_latent[2]\n\nprint(f"Embedding for the first ZERO is  {zero_A}")\nprint(f"Embedding for the second ZERO is {zero_B}")\nprint(f"Embedding for the ONE is         {one}")\n# Embedding for the first ZERO is  [-0.6685402  1.3617749]\n# Embedding for the second ZERO is [-0.45223522  1.2324673 ]\n# Embedding for the ONE is         [ 1.5712667 -0.8561288]\n'})}),"\n",(0,a.jsx)(s.h3,{id:"using-more-advanced-models-based-on-the-transformer-architechture-you-can-embed-sentences-aswell",children:"Using more advanced models based on the Transformer architechture you can embed sentences aswell"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"from sentence_transformers import SentenceTransformer\n\nmodel = SentenceTransformer('paraphrase-MiniLM-L6-v2')\n\n#Sentences we want to encode. Example:\nsentence = ['The team enjoyed the hike through the meadow',\n            'The national park had great views',\n            'Olive oil drizzled over pizza tastes delicious']\n\n#Sentences are encoded by calling model.encode()\nembedding = model.encode(sentence)\n\n#Preview the embeddings\nprint(embedding)\n# [[ 0.3706197   0.2641425   0.21265654 ...  0.14994532 -0.2579492\n#   -0.2397075 ]\n#  [ 0.66933304  0.40094963 -0.48208407 ...  0.10645866 -1.5067165\n#   -0.01547357]\n#  [-0.2655591   0.11172403 -0.14733036 ...  0.42197466  0.88394594\n#    0.10763935]]\n\nembedding.shape\n# (3, 384)\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.heatmap(embedding[0].reshape(-1,384),cmap=\"Greys\",center=0,square=False)\nplt.gcf().set_size_inches(10,1)\nplt.axis('off')\nplt.show()\n\nsns.heatmap(embedding[1].reshape(-1,384),cmap=\"Greys\",center=0,square=False)\nplt.gcf().set_size_inches(10,1)\nplt.axis('off')\nplt.show()\n\nsns.heatmap(embedding[2].reshape(-1,384),cmap=\"Greys\",center=0,square=False)\nplt.gcf().set_size_inches(10,1)\nplt.axis('off')\nplt.show()\n"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.img,{alt:"s02",src:n(53699).Z+"",width:"701",height:"97"}),"\n",(0,a.jsx)(s.img,{alt:"s03",src:n(11969).Z+"",width:"712",height:"97"}),"\n",(0,a.jsx)(s.img,{alt:"s04",src:n(38980).Z+"",width:"712",height:"103"})]}),"\n",(0,a.jsx)(s.h3,{id:"how-can-we-measure-the-distance-between-these-image-and-sentence-embeddings",children:"How can we measure the distance between these Image and Sentence Embeddings?"}),"\n",(0,a.jsx)(s.p,{children:"There are many ways to calculate the distances between two vectors."}),"\n",(0,a.jsx)(s.p,{children:"Here we will cover 4 distance metrics that you might find being used in the context of vector databases:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Euclidean Distance (L2)"}),"\n",(0,a.jsx)(s.li,{children:"Manhattan Distance (L1)"}),"\n",(0,a.jsx)(s.li,{children:"Dot Product"}),"\n",(0,a.jsx)(s.li,{children:"Cosine Distance"}),"\n"]}),"\n",(0,a.jsx)(s.h4,{id:"euclidean-distance-l2",children:"Euclidean Distance (L2)"}),"\n",(0,a.jsx)(s.p,{children:"The length of the shortest path between two points or vectors."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s05",src:n(41358).Z+"",width:"866",height:"386"})}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsx)(s.mrow,{children:(0,a.jsx)(s.msqrt,{children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsxs)(s.munderover,{children:[(0,a.jsx)(s.mo,{children:"\u2211"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"1"})]}),(0,a.jsx)(s.mi,{children:"n"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"x"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"y"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsxs)(s.msup,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mn,{children:"2"})]})]})})}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\sqrt{\\sum_{i=1}^{n}(x_i-y_i)^2}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"3.1568em",verticalAlign:"-1.2777em"}}),(0,a.jsx)(s.span,{className:"mord sqrt",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.8791em"},children:[(0,a.jsxs)(s.span,{className:"svg-align",style:{top:"-5.1168em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"5.1168em"}}),(0,a.jsxs)(s.span,{className:"mord",style:{paddingLeft:"1.056em"},children:[(0,a.jsx)(s.span,{className:"mop op-limits",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.6514em"},children:[(0,a.jsxs)(s.span,{style:{top:"-1.8723em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(s.span,{className:"mrel mtight",children:"="}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{children:(0,a.jsx)(s.span,{className:"mop op-symbol large-op",children:"\u2211"})})]}),(0,a.jsxs)(s.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.2777em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsxs)(s.span,{className:"mclose",children:[(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsx)(s.span,{className:"vlist-t",children:(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.7401em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.989em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"2"})})]})})})})})]})]})]}),(0,a.jsxs)(s.span,{style:{top:"-3.8391em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"5.1168em"}}),(0,a.jsx)(s.span,{className:"hide-tail",style:{minWidth:"0.742em",height:"3.1968em"},children:(0,a.jsx)(s.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"3.1968em",viewBox:"0 0 400000 3196",preserveAspectRatio:"xMinYMin slice",children:(0,a.jsx)(s.path,{d:"M702 80H40000040\nH742v3062l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v40H742z"})})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.2777em"},children:(0,a.jsx)(s.span,{})})})]})})]})})]})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# Euclidean Distance\nL2 = [(zero_A[i] - zero_B[i])**2 for i in range(len(zero_A))]\nL2 = np.sqrt(np.array(L2).sum())\nprint(L2)\n# 0.2520085263902637\n\n#An alternative way of doing this\nnp.linalg.norm((zero_A - zero_B), ord=2)\n# 0.25200853\n\n#Calculate L2 distances\nprint("Distance zeroA-zeroB:", np.linalg.norm((zero_A - zero_B), ord=2))\nprint("Distance zeroA-one:  ", np.linalg.norm((zero_A - one), ord=2))\nprint("Distance zeroB-one:  ", np.linalg.norm((zero_B - one), ord=2))\n# Distance zeroA-zeroB: 0.25200853\n# Distance zeroA-one:   3.1521153\n# Distance zeroB-one:   2.9080565\n'})}),"\n",(0,a.jsx)(s.h4,{id:"manhattan-distance-l1",children:"Manhattan Distance (L1)"}),"\n",(0,a.jsx)(s.p,{children:"Distance between two points if one was constrained to move only along one axis at a time."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s06",src:n(20807).Z+"",width:"866",height:"386"})}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsxs)(s.munderover,{children:[(0,a.jsx)(s.mo,{children:"\u2211"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"1"})]}),(0,a.jsx)(s.mi,{children:"n"})]}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"x"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"y"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\sum_{i=1}^{n}|x_i-y_i|"})]})})}),(0,a.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"2.9291em",verticalAlign:"-1.2777em"}}),(0,a.jsx)(s.span,{className:"mop op-limits",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.6514em"},children:[(0,a.jsxs)(s.span,{style:{top:"-1.8723em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(s.span,{className:"mrel mtight",children:"="}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{children:(0,a.jsx)(s.span,{className:"mop op-symbol large-op",children:"\u2211"})})]}),(0,a.jsxs)(s.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.2777em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord",children:"\u2223"}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mord",children:"\u2223"})]})]})]})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# Manhattan Distance\nL1 = [zero_A[i] - zero_B[i] for i in range(len(zero_A))]\nL1 = np.abs(L1).sum()\n\nprint(L1)\n# 0.3456126\n\n#an alternative way of doing this is\nnp.linalg.norm((zero_A - zero_B), ord=1)\n# 0.3456126\n\n#Calculate L1 distances\nprint("Distance zeroA-zeroB:", np.linalg.norm((zero_A - zero_B), ord=1))\nprint("Distance zeroA-one:  ", np.linalg.norm((zero_A - one), ord=1))\nprint("Distance zeroB-one:  ", np.linalg.norm((zero_B - one), ord=1))\n# Distance zeroA-zeroB: 0.3456126\n# Distance zeroA-one:   4.4577103\n# Distance zeroB-one:   4.1120977\n'})}),"\n",(0,a.jsx)(s.h4,{id:"dot-product",children:"Dot Product"}),"\n",(0,a.jsx)(s.p,{children:"Measures the magnitude of the projection of one vector onto the other."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s07",src:n(96583).Z+"",width:"812",height:"386"})}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"A"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsx)(s.mi,{children:"B"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsxs)(s.munderover,{children:[(0,a.jsx)(s.mo,{children:"\u2211"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"1"})]}),(0,a.jsx)(s.mi,{children:"n"})]}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"A"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"B"}),(0,a.jsx)(s.mi,{children:"i"})]})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"A \\cdot B = \\sum_{i=1}^{n}A_iB_i"})]})})}),(0,a.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"A"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.6833em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"2.9291em",verticalAlign:"-1.2777em"}}),(0,a.jsx)(s.span,{className:"mop op-limits",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.6514em"},children:[(0,a.jsxs)(s.span,{style:{top:"-1.8723em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(s.span,{className:"mrel mtight",children:"="}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{children:(0,a.jsx)(s.span,{className:"mop op-symbol large-op",children:"\u2211"})})]}),(0,a.jsxs)(s.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.2777em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",children:"A"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0502em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]})]})]})]})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# Dot Product\nnp.dot(zero_A,zero_B)\n# 1.9806805\n\n#Calculate Dot products\nprint("Distance zeroA-zeroB:", np.dot(zero_A, zero_B))\nprint("Distance zeroA-one:  ", np.dot(zero_A, one))\nprint("Distance zeroB-one:  ", np.dot(zero_B, one))\n# Distance zeroA-zeroB: 1.9806805\n# Distance zeroA-one:   -2.2163095\n# Distance zeroB-one:   -1.7657329\n'})}),"\n",(0,a.jsx)(s.h4,{id:"cosine-distance",children:"Cosine Distance"}),"\n",(0,a.jsx)(s.p,{children:"Measure the difference in directionality between vectors."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s08",src:n(13088).Z+"",width:"866",height:"386"})}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mi,{children:"cos"}),(0,a.jsx)(s.mo,{children:"\u2061"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{children:"\u03b8"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsxs)(s.mfrac,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"A"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsx)(s.mi,{children:"B"})]}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{children:"A"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{children:"B"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"})]})]})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"1 - \\cos(\\theta) = 1 - \\frac{A \\cdot B}{||A|| ||B||}"})]})})}),(0,a.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(s.span,{className:"mord",children:"1"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(s.span,{className:"mop",children:"cos"}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,a.jsx)(s.span,{className:"mord",children:"1"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"2.2963em",verticalAlign:"-0.936em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(s.span,{className:"mfrac",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.3603em"},children:[(0,a.jsxs)(s.span,{style:{top:"-2.314em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord",children:"\u2223\u2223"}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"A"}),(0,a.jsx)(s.span,{className:"mord",children:"\u2223\u2223\u2223\u2223"}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"}),(0,a.jsx)(s.span,{className:"mord",children:"\u2223\u2223"})]})]}),(0,a.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(s.span,{style:{top:"-3.677em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",children:"A"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.936em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# Cosine Distance\ncosine = 1 - np.dot(zero_A,zero_B)/(np.linalg.norm(zero_A)*np.linalg.norm(zero_B))\nprint(f"{cosine:.6f}")\n# 0.005475\n\nzero_A/zero_B\n# array([1.4783019, 1.1049176], dtype=float32)\n# These two vectors are pointing in the same direction\n\n# Cosine Distance function\ndef cosine_distance(vec1,vec2):\n  cosine = 1 - (np.dot(vec1, vec2)/(np.linalg.norm(vec1)*np.linalg.norm(vec2)))\n  return cosine\n\n#Cosine Distance\nprint(f"Distance zeroA-zeroB: {cosine_distance(zero_A, zero_B): .6f}")\nprint(f"Distance zeroA-one:   {cosine_distance(zero_A, one): .6f}")\nprint(f"Distance zeroB-one:   {cosine_distance(zero_B, one): .6f}")\n# Distance zeroA-zeroB:  0.005475\n# Distance zeroA-one:    1.816464\n# Distance zeroB-one:    1.751659\n'})}),"\n",(0,a.jsx)(s.h3,{id:"now-with-the-sentence-embeddings",children:"Now with the sentence embeddings"}),"\n",(0,a.jsx)(s.p,{children:"Dot Product and Cosine Distance are commonly used in the field of NLP, to evaluate how similar two sentence embeddings are.\nSo here we will only use those two."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"embedding0 - 'The team enjoyed the hike through the meadow'"}),"\n",(0,a.jsx)(s.li,{children:"embedding1 - The national park had great views'"}),"\n",(0,a.jsx)(s.li,{children:"embedding2 - 'Olive oil drizzled over pizza tastes delicious'"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'#Dot Product\nprint("Distance 0-1:", np.dot(embedding[0], embedding[1]))\nprint("Distance 0-2:", np.dot(embedding[0], embedding[2]))\nprint("Distance 1-2:", np.dot(embedding[1], embedding[2]))\n# Distance 0-1: 26.49789\n# Distance 0-2: 2.0785775\n# Distance 1-2: 4.0192113\n\n#Cosine Distance\nprint("Distance 0-1: ", cosine_distance(embedding[0], embedding[1]))\nprint("Distance 0-2: ", cosine_distance(embedding[0], embedding[2]))\nprint("Distance 1-2: ", cosine_distance(embedding[1], embedding[2]))\n# Distance 0-1:  0.5350335538387299\n# Distance 0-2:  0.9639393128454685\n# Distance 1-2:  0.9288790971040726\n'})}),"\n",(0,a.jsx)(s.h2,{id:"search-for-similar-vectors",children:"Search for Similar Vectors"}),"\n",(0,a.jsx)(s.h3,{id:"k-nearest-neighbors",children:"K Nearest Neighbors"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"import numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.neighbors import NearestNeighbors\nimport time\nnp.random.seed(42)\n\n# Generate 20 data points with 2 dimensions\nX = np.random.rand(20,2)\n\n# Display Embeddings\nn = range(len(X))\n\nfig, ax = plt.subplots()\nax.scatter(X[:,0], X[:,1], label='Embeddings')\nax.legend()\n\nfor i, txt in enumerate(n):\n    ax.annotate(txt, (X[i,0], X[i,1]))\n"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s09",src:n(3639).Z+"",width:"552",height:"413"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"k = 4\n\nneigh = NearestNeighbors(n_neighbors=k, algorithm='brute', metric='euclidean')\nneigh.fit(X)\n\n# Display Query with data\nn = range(len(X))\n\nfig, ax = plt.subplots()\nax.scatter(X[:,0], X[:,1])\nax.scatter(0.45,0.2, c='red',label='Query')\nax.legend()\n\nfor i, txt in enumerate(n):\n    ax.annotate(txt, (X[i,0], X[i,1]))\n"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"s10",src:n(64958).Z+"",width:"552",height:"413"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"neighbours = neigh.kneighbors([[0.45,0.2]], k, return_distance=True)\nprint(neighbours)\n# (array([[0.09299859, 0.16027853, 0.1727928 , 0.17778682]]), \n# array([[ 9, 15, 10, 18]]))\n\nt0 = time.time()\nneighbours = neigh.kneighbors([[0.45,0.2]], k, return_distance=True)\nt1 = time.time()\n\nquery_time = t1-t0\nprint(f\"Runtime: {query_time: .4f} seconds\")\n# Runtime:  0.0018 seconds\n\ndef speed_test(count):\n    # generate random objects\n    data = np.random.rand(count,2)\n    \n    # prepare brute force index\n    k=4\n    neigh = NearestNeighbors(n_neighbors=k, algorithm='brute', metric='euclidean')\n    neigh.fit(data)\n\n    # measure time for a brute force query\n    t0 = time.time()\n    neighbours = neigh.kneighbors([[0.45,0.2]], k, return_distance=True)\n    t1 = time.time()\n\n    total_time = t1-t0\n    print (f\"Runtime: {total_time: .4f}\")\n\n    return total_time\n\ntime20k = speed_test(20_000)\n# Runtime:  0.0013\n\n# Brute force examples\ntime200k = speed_test(200_000)\ntime2m = speed_test(2_000_000)\ntime20m = speed_test(20_000_000)\ntime200m = speed_test(200_000_000)\n# Runtime:  0.0029\n# Runtime:  0.0157\n# Runtime:  0.1441\n# Runtime:  1.4581\n"})}),"\n",(0,a.jsxs)(s.h3,{id:"brute-force-knn-implemented-by-hand-on-768-dimensional-embeddings",children:["Brute force kNN implemented by hand on ",(0,a.jsx)(s.code,{children:"768"})," dimensional embeddings"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'documents = 1000\ndimensions = 768\n\nembeddings = np.random.randn(documents, dimensions) # 1000 documents, 768-dimensional embeddings\nembeddings = embeddings / np.sqrt((embeddings**2).sum(1, keepdims=True)) # L2 normalize the rows, as is common\n\nquery = np.random.randn(768) # the query vector\nquery = query / np.sqrt((query**2).sum()) # normalize query\n\n# kNN\nt0 = time.time()\n# Calculate Dot Product between the query and all data items\nsimilarities = embeddings.dot(query)\n# Sort results\nsorted_ix = np.argsort(-similarities)\nt1 = time.time()\n\ntotal = t1-t0\nprint(f"Runtime for dim={dimensions}, documents_n={documents}: {np.round(total,3)} seconds")\n\nprint("Top 5 results:")\nfor k in sorted_ix[:5]:\n    print(f"Point: {k}, Similarity: {similarities[k]}")\n# Runtime for dim=768, documents_n=1000: 0.003 seconds\n# Top 5 results:\n# Point: 434, Similarity: 0.11658853328636033\n# Point: 41, Similarity: 0.10319523603880203\n# Point: 677, Similarity: 0.09041193794869379\n# Point: 13, Similarity: 0.0856056395158937\n# Point: 438, Similarity: 0.08410763673528121\n\nn_runs = [1_000, 10_000, 100_000, 500_000]\n\nfor n in n_runs:\n    embeddings = np.random.randn(n, dimensions) #768-dimensional embeddings\n    query = np.random.randn(768) # the query vector\n    \n    t0 = time.time()\n    similarities = embeddings.dot(query)\n    sorted_ix = np.argsort(-similarities)\n    t1 = time.time()\n\n    total = t1-t0\n    print(f"Runtime for 1 query with dim={dimensions}, documents_n={n}: {np.round(total,3)} seconds")\n# Runtime for 1 query with dim=768, documents_n=1000: 0.0 seconds\n# Runtime for 1 query with dim=768, documents_n=10000: 0.002 seconds\n# Runtime for 1 query with dim=768, documents_n=100000: 0.118 seconds\n# Runtime for 1 query with dim=768, documents_n=500000: 0.697 seconds\n\nprint (f"To run 1,000 queries: {total * 1_000/60 : .2f} minutes")\n# To run 1,000 queries:  11.62 minutes\n'})}),"\n",(0,a.jsx)(s.h2,{id:"approximate-nearest-neighbors",children:"Approximate Nearest Neighbors"}),"\n",(0,a.jsx)(s.h3,{id:"vector-database-setup",children:"Vector Database setup"}),"\n",(0,a.jsx)(s.p,{children:"Remove old Weaviate DB files"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"!rm -rf ~/.local/share/weaviate\n"})}),"\n",(0,a.jsx)(s.h3,{id:"step-1---download-sample-data",children:"Step 1 - Download sample data"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'import requests\nimport json\n\n# Download the data\nresp = requests.get(\'https://raw.githubusercontent.com/weaviate-tutorials/quickstart/main/data/jeopardy_tiny.json\')\ndata = json.loads(resp.text)  # Load data\n\n# Parse the JSON and preview it\nprint(type(data), len(data))\n\ndef json_print(data):\n    print(json.dumps(data, indent=2))\n\njson_print(data[0])\n# <class \'list\'> 10\n# {\n#   "Category": "SCIENCE",\n#   "Question": "This organ removes excess glucose from the blood & stores it as glycogen",\n#   "Answer": "Liver"\n# }\n'})}),"\n",(0,a.jsx)(s.h3,{id:"step-2---create-an-embedded-instance-of-weaviate-vector-database",children:"Step 2 - Create an embedded instance of Weaviate vector database"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'import weaviate, os\nfrom weaviate import EmbeddedOptions\nimport openai\n\nfrom dotenv import load_dotenv, find_dotenv\n_ = load_dotenv(find_dotenv()) # read local .env file\nopenai.api_key = os.environ[\'OPENAI_API_KEY\']\n\nclient = weaviate.Client(\n    embedded_options=EmbeddedOptions(),\n    additional_headers={\n        "X-OpenAI-BaseURL": os.environ[\'OPENAI_API_BASE\'],\n        "X-OpenAI-Api-Key": openai.api_key  # Replace this with your actual key\n    }\n)\nprint(f"Client created? {client.is_ready()}")\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"json_print(client.get_meta())\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'{\n  "hostname": "http://127.0.0.1:8079",\n  "modules": {\n    "generative-openai": {\n      "documentationHref": "https://platform.openai.com/docs/api-reference/completions",\n      "name": "Generative Search - OpenAI"\n    },\n    "qna-openai": {\n      "documentationHref": "https://platform.openai.com/docs/api-reference/completions",\n      "name": "OpenAI Question & Answering Module"\n    },\n    "ref2vec-centroid": {},\n    "reranker-cohere": {\n      "documentationHref": "https://txt.cohere.com/rerank/",\n      "name": "Reranker - Cohere"\n    },\n    "text2vec-cohere": {\n      "documentationHref": "https://docs.cohere.ai/embedding-wiki/",\n      "name": "Cohere Module"\n    },\n    "text2vec-huggingface": {\n      "documentationHref": "https://huggingface.co/docs/api-inference/detailed_parameters#feature-extraction-task",\n      "name": "Hugging Face Module"\n    },\n    "text2vec-openai": {\n      "documentationHref": "https://platform.openai.com/docs/guides/embeddings/what-are-embeddings",\n      "name": "OpenAI Module"\n    }\n  },\n  "version": "1.22.3"\n}\n'})}),"\n",(0,a.jsx)(s.h3,{id:"step-3---create-question-collection",children:"Step 3 - Create Question collection"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# resetting the schema. CAUTION: This will delete your collection \nif client.schema.exists("Question"):\n    client.schema.delete_class("Question")\nclass_obj = {\n    "class": "Question",\n    "vectorizer": "text2vec-openai",  # Use OpenAI as the vectorizer\n    "moduleConfig": {\n        "text2vec-openai": {\n            "model": "ada",\n            "modelVersion": "002",\n            "type": "text",\n            "baseURL": os.environ["OPENAI_API_BASE"]\n        }\n    }\n}\n\nclient.schema.create_class(class_obj)\n'})}),"\n",(0,a.jsx)(s.h3,{id:"step-4---load-sample-data-and-generate-vector-embeddings",children:"Step 4 - Load sample data and generate vector embeddings"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"# reminder for the data structure\njson_print(data[0])\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'{\n  "Category": "SCIENCE",\n  "Question": "This organ removes excess glucose from the blood & stores it as glycogen",\n  "Answer": "Liver"\n}\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'with client.batch.configure(batch_size=5) as batch:\n    for i, d in enumerate(data):  # Batch import data\n        \n        print(f"importing question: {i+1}")\n        \n        properties = {\n            "answer": d["Answer"],\n            "question": d["Question"],\n            "category": d["Category"],\n        }\n        \n        batch.add_data_object(\n            data_object=properties,\n            class_name="Question"\n        )\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'count = client.query.aggregate("Question").with_meta_count().do()\njson_print(count)\n'})}),"\n",(0,a.jsx)(s.h3,{id:"lets-extract-the-vector-that-represents-each-question",children:"Let's Extract the vector that represents each question!"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# write a query to extract the vector for a question\nresult = (client.query\n          .get("Question", ["category", "question", "answer"])\n          .with_additional("vector")\n          .with_limit(1)\n          .do())\n\njson_print(result)\n'})}),"\n",(0,a.jsx)(s.h3,{id:"query-time",children:"Query time"}),"\n",(0,a.jsxs)(s.p,{children:["What is the distance between the ",(0,a.jsx)(s.code,{children:"query"}),": ",(0,a.jsx)(s.code,{children:"biology"})," and the returned objects?"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question",["question","answer","category"])\n    .with_near_text({"concepts": "biology"})\n    .with_additional(\'distance\')\n    .with_limit(2)\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'{\n  "data": {\n    "Get": {\n      "Question": [\n        {\n          "_additional": {\n            "distance": 0.19695163\n          },\n          "answer": "DNA",\n          "category": "SCIENCE",\n          "question": "In 1953 Watson & Crick built a model of the molecular structure of this, the gene-carrying substance"\n        },\n        {\n          "_additional": {\n            "distance": 0.20142835\n          },\n          "answer": "species",\n          "category": "SCIENCE",\n          "question": "2000 news: the Gunnison sage grouse isn\'t just another northern sage grouse, but a new one of this classification"\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question", ["question", "answer"])\n    .with_near_text({"concepts": ["animals"]})\n    .with_limit(10)\n    .with_additional(["distance"])\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.h3,{id:"we-can-let-the-vector-database-know-to-remove-results-after-a-threshold-distance",children:"We can let the vector database know to remove results after a threshold distance!"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question", ["question", "answer"])\n    .with_near_text({"concepts": ["animals"], "distance": 0.24})\n    .with_limit(10)\n    .with_additional(["distance"])\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.h3,{id:"vector-databases-support-for-crud-operations",children:"Vector Databases support for CRUD operations"}),"\n",(0,a.jsx)(s.h4,{id:"create",children:"Create"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'#Create an object\nobject_uuid = client.data_object.create(\n    data_object={\n        \'question\':"Leonardo da Vinci was born in this country.",\n        \'answer\': "Italy",\n        \'category\': "Culture"\n    },\n    class_name="Question"\n )\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"print(object_uuid)\n"})}),"\n",(0,a.jsx)(s.h4,{id:"read",children:"Read"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'data_object = client.data_object.get_by_id(object_uuid, class_name="Question")\njson_print(data_object)\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"data_object = client.data_object.get_by_id(\n    object_uuid,\n    class_name='Question',\n    with_vector=True\n)\n\njson_print(data_object)\n"})}),"\n",(0,a.jsx)(s.h4,{id:"update",children:"Update"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'client.data_object.update(\n    uuid=object_uuid,\n    class_name="Question",\n    data_object={\n        \'answer\':"Florence, Italy"\n    })\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"data_object = client.data_object.get_by_id(\n    object_uuid,\n    class_name='Question',\n)\n\njson_print(data_object)\n"})}),"\n",(0,a.jsx)(s.h4,{id:"delete",children:"Delete"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'json_print(client.query.aggregate("Question").with_meta_count().do())\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'client.data_object.delete(uuid=object_uuid, class_name="Question")\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'json_print(client.query.aggregate("Question").with_meta_count().do())\n'})}),"\n",(0,a.jsx)(s.h2,{id:"sparse-dense-and-hybrid-search",children:"Sparse, Dense, and Hybrid Search"}),"\n",(0,a.jsx)(s.h3,{id:"bm25",children:"BM25"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Best Matching 25 (BM25)"}),": In practice when performing keyword search we use a modification of\nsimple word frequencies called ",(0,a.jsx)(s.em,{children:"best matching 25"}),". BM25 is a term frequency-inverse document frequency (TF-IDF)."]}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mtext,{children:"score"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{children:"D"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"Q"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsxs)(s.munderover,{children:[(0,a.jsx)(s.mo,{children:"\u2211"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"1"})]}),(0,a.jsx)(s.mi,{children:"n"})]}),(0,a.jsx)(s.mtext,{children:"IDF"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"q"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsxs)(s.mfrac,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"f"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"q"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"D"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"k"}),(0,a.jsx)(s.mn,{children:"1"})]}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"f"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"q"}),(0,a.jsx)(s.mi,{children:"i"})]}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"D"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"k"}),(0,a.jsx)(s.mn,{children:"1"})]}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mi,{children:"b"}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsx)(s.mi,{children:"b"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsxs)(s.mfrac,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"}),(0,a.jsx)(s.mi,{children:"D"}),(0,a.jsx)(s.mi,{mathvariant:"normal",children:"\u2223"})]}),(0,a.jsx)(s.mtext,{children:"avgdl"})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\text{score}(D,Q) = \\sum_{i=1}^{n} \\text{IDF}(q_i) \\cdot \\frac{f(q_i, D) \\cdot (k_1 + 1)}{f(q_i, D) + k_1 \\cdot (1 - b + b \\cdot \\frac{|D|}{\\text{avgdl}})}"})]})})}),(0,a.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(s.span,{className:"mord text",children:(0,a.jsx)(s.span,{className:"mord",children:"score"})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),(0,a.jsx)(s.span,{className:"mpunct",children:","}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"Q"}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"2.9291em",verticalAlign:"-1.2777em"}}),(0,a.jsx)(s.span,{className:"mop op-limits",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.6514em"},children:[(0,a.jsxs)(s.span,{style:{top:"-1.8723em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(s.span,{className:"mrel mtight",children:"="}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{children:(0,a.jsx)(s.span,{className:"mop op-symbol large-op",children:"\u2211"})})]}),(0,a.jsxs)(s.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.05em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.2777em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord text",children:(0,a.jsx)(s.span,{className:"mord",children:"IDF"})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"2.8081em",verticalAlign:"-1.3811em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(s.span,{className:"mfrac",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.427em"},children:[(0,a.jsxs)(s.span,{style:{top:"-2.11em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.01em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mpunct",children:","}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3011em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"1"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:"1"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"b"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"b"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(s.span,{className:"mfrac",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.01em"},children:[(0,a.jsxs)(s.span,{style:{top:"-2.655em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:(0,a.jsx)(s.span,{className:"mord text mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"avgdl"})})})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(s.span,{style:{top:"-3.485em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2223"}),(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02778em"},children:"D"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2223"})]})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.4811em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mclose nulldelimiter"})]}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})]}),(0,a.jsxs)(s.span,{style:{top:"-3.24em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.01em"}}),(0,a.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(s.span,{style:{top:"-3.687em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.01em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"q"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3117em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mpunct",children:","}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3011em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.55em",marginLeft:"-0.0315em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"1"})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mord",children:"1"}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"1.3811em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,a.jsxs)(s.p,{children:["Learn more about BM25 ",(0,a.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Okapi_BM25",children:"here"}),"."]}),"\n",(0,a.jsx)(s.h3,{id:"remove-old-weaviate-db-files",children:"Remove old Weaviate DB files"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"!rm -rf ~/.local/share/weaviate\n"})}),"\n",(0,a.jsx)(s.h3,{id:"recreate-the-example",children:"Recreate the example"}),"\n",(0,a.jsx)(s.p,{children:"With the same data as in the previous lesson"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"import requests\nimport json\n\n# Download the data\nresp = requests.get('https://raw.githubusercontent.com/weaviate-tutorials/quickstart/main/data/jeopardy_tiny.json')\ndata = json.loads(resp.text)  # Load data\n\n# Parse the JSON and preview it\nprint(type(data), len(data))\n\ndef json_print(data):\n    print(json.dumps(data, indent=2))\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'import weaviate, os\nfrom weaviate import EmbeddedOptions\nimport openai\n\nfrom dotenv import load_dotenv, find_dotenv\n_ = load_dotenv(find_dotenv()) # read local .env file\nopenai.api_key = os.environ[\'OPENAI_API_KEY\']\n\nclient = weaviate.Client(\n    embedded_options=EmbeddedOptions(),\n    additional_headers={\n        "X-OpenAI-Api-BaseURL": os.environ[\'OPENAI_API_BASE\'],\n        "X-OpenAI-Api-Key": openai.api_key,  # Replace this with your actual key\n    }\n)\nprint(f"Client created? {client.is_ready()}")\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'# Uncomment the following two lines if you want to run this block for a second time.\nif client.schema.exists("Question"):\n   client.schema.delete_class("Question")\n \nclass_obj = {\n    "class": "Question",\n    "vectorizer": "text2vec-openai",  # Use OpenAI as the vectorizer\n    "moduleConfig": {\n        "text2vec-openai": {\n            "model": "ada",\n            "modelVersion": "002",\n            "type": "text",\n            "baseURL": os.environ["OPENAI_API_BASE"]\n        }\n    }\n}\n\nclient.schema.create_class(class_obj)\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'with client.batch.configure(batch_size=5) as batch:\n    for i, d in enumerate(data):  # Batch import data\n        \n        print(f"importing question: {i+1}")\n        \n        properties = {\n            "answer": d["Answer"],\n            "question": d["Question"],\n            "category": d["Category"],\n        }\n        \n        batch.add_data_object(\n            data_object=properties,\n            class_name="Question"\n        )\n'})}),"\n",(0,a.jsx)(s.h3,{id:"queries",children:"Queries"}),"\n",(0,a.jsx)(s.h4,{id:"dense-search",children:"Dense Search"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question", ["question", "answer"])\n    .with_near_text({"concepts":["animal"]})\n    .with_limit(3)\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.h4,{id:"sparse-search---bm25",children:"Sparse Search - BM25"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question",["question","answer"])\n    .with_bm25(query="animal")\n    .with_limit(3)\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.h4,{id:"hybrid-search",children:"Hybrid Search"}),"\n",(0,a.jsx)(s.p,{children:"Hybrid search is a combination of sparse and dense search. It is a weighted average of the two search methods."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question",["question","answer"])\n    .with_hybrid(query="animal", alpha=0.5)\n    .with_limit(3)\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question",["question","answer"])\n    .with_hybrid(query="animal", alpha=0)\n    .with_limit(3)\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'response = (\n    client.query\n    .get("Question",["question","answer"])\n    .with_hybrid(query="animal", alpha=1)\n    .with_limit(3)\n    .do()\n)\n\njson_print(response)\n'})}),"\n",(0,a.jsx)(s.h2,{id:"application---multilingual-search",children:"Application - Multilingual Search"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"def json_print(data):\n    print(json.dumps(data, indent=2))\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'import weaviate, os, json\nimport openai\nfrom dotenv import load_dotenv, find_dotenv\n_ = load_dotenv(find_dotenv()) # read local .env file\n\nauth_config = weaviate.auth.AuthApiKey(api_key=os.getenv("WEAVIATE_API_KEY"))\n\nclient = weaviate.Client(\n    url=os.getenv("WEAVIATE_API_URL"),\n    auth_client_secret=auth_config,\n    additional_headers={\n        "X-Cohere-Api-Key": os.getenv("COHERE_API_KEY"),\n        "X-Cohere-BaseURL": os.getenv("CO_API_URL")\n    }\n)\n\nclient.is_ready() #check if True\n'})}),"\n",(0,a.jsx)(s.h3,{id:"how-many-vectors-are-stored-in-this-database",children:"How many vectors are stored in this database"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'print(json.dumps(client.query.aggregate("Wikipedia").with_meta_count().do(), indent=2))\n'})}),"\n",(0,a.jsx)(s.h3,{id:"perform-search-over-them-to-find-concepts-you-are-interested-in",children:"Perform search over them to find concepts you are interested in!"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"response = (client.query\n            .get(\"Wikipedia\",['text','title','url','views','lang'])\n            .with_near_text({\"concepts\": \"Vacation spots in california\"})\n            .with_limit(5)\n            .do()\n           )\n\njson_print(response)\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"response = (client.query\n            .get(\"Wikipedia\",['text','title','url','views','lang'])\n            .with_near_text({\"concepts\": \"Vacation spots in california\"})\n            .with_where({\n                \"path\" : ['lang'],\n                \"operator\" : \"Equal\",\n                \"valueString\":'en'\n            })\n            .with_limit(3)\n            .do()\n           )\n\njson_print(response)\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"response = (client.query\n            .get(\"Wikipedia\",['text','title','url','views','lang'])\n            .with_near_text({\"concepts\": \"Miejsca na wakacje w Kalifornii\"})\n            .with_where({\n                \"path\" : ['lang'],\n                \"operator\" : \"Equal\",\n                \"valueString\":'en'\n            })\n            .with_limit(3)\n            .do()\n           )\n\njson_print(response)\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"response = (client.query\n            .get(\"Wikipedia\",['text','title','url','views','lang'])\n            .with_near_text({\"concepts\": \"\u0623\u0645\u0627\u0643\u0646 \u0627\u0644\u0639\u0637\u0644\u0627\u062a \u0641\u064a \u0643\u0627\u0644\u064a\u0641\u0648\u0631\u0646\u064a\u0627\"})\n            .with_where({\n                \"path\" : ['lang'],\n                \"operator\" : \"Equal\",\n                \"valueString\":'en'\n            })\n            .with_limit(3)\n            .do()\n           )\n\njson_print(response)\n"})}),"\n",(0,a.jsx)(s.h3,{id:"retrieval-augmented-generation",children:"Retrieval Augmented Generation"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Using a Vector Database as an External Knowledge Base"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Enable a large language model (LLM) to leverage a vector database as an external knowledge base of factual information"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Retrieve Relevant Info and provide to LLM"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Improve a LLM by enabling it to retrieve relevant source material from the vector database and read it as part of the prompt prior to generating an answer to the prompt"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Synergizes with a Vector Database"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Vector databases can be queried for concepts using natural language"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Better to do RAG"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Performing RAG is a lot more practical than having the LLM attend over its trained knowledge base"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Example: Visiting a Library"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"It\u2019s akin to a human visiting a library and checking out and reading source material and books prior to writing a well thought out response to a question."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h4,{id:"single-prompt",children:"Single Prompt"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'prompt = "Write me a facebook ad about {title} using information inside {text}"\nresult = (\n  client.query\n  .get("Wikipedia", ["title","text"])\n  .with_generate(single_prompt=prompt)\n  .with_near_text({\n    "concepts": ["Vacation spots in california"]\n  })\n  .with_limit(3)\n).do()\n\njson_print(result)\n'})}),"\n",(0,a.jsx)(s.h4,{id:"group-task",children:"Group Task"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'generate_prompt = "Summarize what these posts are about in two paragraphs."\n\nresult = (\n  client.query\n  .get("Wikipedia", ["title","text"])\n  .with_generate(grouped_task=generate_prompt) # Pass in all objects at once\n  .with_near_text({\n    "concepts": ["Vacation spots in california"]\n  })\n  .with_limit(3)\n).do()\n\njson_print(result)\n'})})]})}function o(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},99790:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s01-043095dca9b8d2ed66f8ead2fffd16f7.png"},53699:(e,s,n)=>{n.d(s,{Z:()=>a});const a="data:image/png;base64,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"},11969:(e,s,n)=>{n.d(s,{Z:()=>a});const a="data:image/png;base64,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"},38980:(e,s,n)=>{n.d(s,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsgAAABnCAYAAAAdfrRkAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjguMCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy81sbWrAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAK6klEQVR4nO3de2hX9R/H8ecu7mtrt8q5hWhr2LKt1NQ0JWrSyOxGt6VEXtaFSmbqJLL+MAxiRGSFdLVsRvcgyyLtstRCVpZSpDnqj2pQNC1ZxqpNN39/fDmnz1cj1Pyq6/d8wEF39j1n753zOZ/z4sNn52Ts2bNnD5IkSZIAyDzSBUiSJElHEwOyJEmSFDAgS5IkSQEDsiRJkhQwIEuSJEkBA7IkSZIUMCBLkiRJAQOyJEmSFMje3w+uWbMGgI8//phTTjkFgMGDB/P6668DcNxxxwGQk5PDn3/+CUBmZjJ/z5kzhw8//BCA9evXM3nyZADGjRsHwNSpU7n99tsBuOGGG7j++usBOPXUU+P9DBo0CIB+/foBsGvXLl555RUAhgwZwtNPPw3A+eefD0BFRQWtra0A9Pb28u233wJw9tlnA9Dd3U1tbS0Azz33HABDhw6Nf99zzz2Xd955B4BvvvkGgJKSEr744gsAFixYwJYtW+JjAjB69Gii964UFRUBsHXrVjo7OwGYPXs2y5YtSzmudXV1fPLJJwBs3ryZwYMHA/DSSy8BsHDhQlatWgXAxIkTKSwsBGDJkiUA1NbWxttEnysvLycvLw+A3bt38/777wMwY8YMAN566y369+8PwPDhw9m1a1f8WYD8/HzKy8sBWLlyJQBVVVXxOZo1axYnnXRSSh09PT2MGjUKgBNOOIFt27YB0NbWBkBeXl7cbl588UUA7r//ftauXQtAa2srI0aMAGDHjh0ATJ48OT72bW1tHH/88QB89NFHAFRXV3PjjTcCcNdddwHQ2dnJ+PHjAWhpaWHixIkAnHbaaUCy/V188cUAvPrqqwwcOBD4q10tWrQo/v8zzzwDwJdffsmZZ54JwPbt2+np6QHgl19+AeDTTz9l3rx5ALz33nvxsfnuu+8AOPnkkxkwYAAAjz76aFx7VPN5553HtGnTAOL2NXz48Hib1tZWfvzxRwBKS0sB2LBhA5dddlnKupaWFjZv3gzAWWedFZ/DqH1deeWVKe0vajc7d+4Ektdw1KYHDRoUt6GmpiYg2RZzcnIAyM3NBZJtZerUqUCyrSxfvhyA6667DoAxY8bwwAMPAFBQUMDDDz8MwJQpUwAYOXJk/P3GxkYAzjnnnPh4nn766XH7raqqApLtJtp+1KhRvPbaawBcffXVcR1jx44F/jqv7e3tPPjggwA89thj/P777/H+AebNm8fs2bMBmD9/PjfffHNKnR988AEdHR0AcZ83bdo03n333bjmrKysuCaAJ554ghNPPBGARCIRt7Xo2l6xYkXclqKfU11dzQ8//AAkz/sll1wS7x+gsrKS+vp6AGpqauL+LrqmEokEQ4YMAf46rx0dHXHtBQUFfP311wBcccUVQLI/iI7Xk08+SXNzM0B8XpcsWcLSpUsB+OOPP4Dk+Y3aUk5ODpdffjkAxx57LJBsv1F/88YbbzB37lwAysrKAMjIyIjb9KxZs+J+JiMjA4AtW7YwZ84cAL766isg2eaidVdddVVcf9TmX3jhBZ5//nkgeX1E1297ezsAkyZNYuPGjQBxvRUVFfH3AT777DMgeU0DXHvttdx2220ATJ8+ne+//x6AM844A0j2ddG+nn32WQAGDhwY3weqqqpoaWkBiO8nd9xxB+vXrwfgoosu4p577omPIyTPYdSH/fbbb0Cy34raQkFBQVxH1D8ec8wx8T0nPz+fCy+8ECDuM9euXRu3tei6bmtro7KyEki9n9bV1QHw5ptvcsEFFwDJe1fUfqNturq6uOWWWwDi67qsrCzujyoqKuLj8OuvvwLJe+iECROAZLuI+v9o37t37+aaa64BYNOmTUDy/hq189WrV8fXVPRvaWkpK1asAJJ9w1NPPQXAsGHDAFi8eHHcn+Tn58ftJWqLRUVFrFu3DiDOGU1NTXHfMH369Li+6NpZuXJl/HsUFRXR29sLJPt6SF7j0XGIrplVq1bFfcPSpUvjHBTdL4qLi+PzWV5eHu8/aovr1q3j0ksvBYizTW5ubnwdvf322zQ0NADJfHK0ys/PT/k6auNHo/0OyJIkSdLBigYS+gIDsiRJktIuO7vvxM6+U6kkSZL6LEeQJUmSpIAjyJIkSVLAEWRJkiQpED1ZqC8wIEuSJCntHEGWJEmSAs5BliRJkgLRC3H6AgOyJEmS0s4RZEmSJCngH+lJkiRJAUeQJUmSpIABWZIkSQoYkCVJkqSAAVmSJEkK+Jg3SZIkKeAIsiRJkhTwVdOSJElSwOcgS5IkSQFHkCVJkqSAAVmSJEkKGJAlSZKkgAFZkiRJChiQJUmSpIDPQZYkSZICjiBLkiRJAQOyJEmSFPBFIZIkSVLAEWRJkiQpYECWJEmSAj7FQpIkSQo4gixJkiQF+lJAzjzSBUiSJOm/r1+/finLgXrkkUcoKyujf//+jBs3jg0bNqShyiQDsiRJktIuKysrZTkQL7/8Mg0NDdx9991s2rSJESNGMGnSJLZt25aWWg3IkiRJSru9A3JXVxc7d+5MWbq6uv5228WLF3PTTTdRV1dHZWUljz/+OLm5uSxbtiwttRqQJUmSlHZ7T7FobGyksLAwZWlsbNxnu+7ubjZu3EhNTU28LjMzk5qaGlpaWtJSq3+kJ0mSpLTb+zFvd955Jw0NDSnrEonEPtv9/PPP9PT0UFJSkrK+pKSE1tbWQ18oBmRJkiQdBnvPO04kEn8biI8GBmRJkiSl3cG+KGTAgAFkZWXR3t6esr69vZ3S0tJDUdo+nIMsSZKktMvOzk5Z9ldOTg6jR4+mubk5Xtfb20tzczPjx49PR6mOIEuSJCn9/s2LQhoaGpgxYwZjxoxh7NixPPTQQ3R2dlJXV3cIK/yLAVmSJElpdzAvB4lMmTKF7du3s3DhQn766SdGjhzJ6tWr9/nDvUPFgCxJkqS0O9g5yJH6+nrq6+sPUTX/zIAsSZKktPs3UywONwOyJEmS0u7fTLE43AzIkiRJSjtHkCVJkqSAAVmSJEkKZGb2nddvGJAlSZKUdo4gS5IkSQEDsiRJkhQwIEuSJEkBA7IkSZIUMCBLkiRJAZ9iIUmSJAWys/tO7Ow7lUqSJKnPcgRZkiRJChiQJUmSpIB/pCdJkiQFHEGWJEmSAgZkSZIkKeAUC0mSJCngCLIkSZIUMCBLkiRJAadYSJIkSQFHkCVJkqSAAVmSJEkKZGRkHOkS9psBWZIkSWnnCLIkSZIUcARZkiRJCvSlEeS+U6kkSZL6rIyMjJQlXe69914mTJhAbm4uRUVFB7UPA7IkSZLSLjMzM2VJl+7ubmpra7n11lsPeh9OsZAkSVLaHa4pFosWLQKgqanpoPdhQJYkSVLa7T2toquri66urpR1iUSCRCJxOMv6W06xkCRJUtrtPcWisbGRwsLClKWxsfFIlwlAxp49e/Yc6SIkSZL0/+VARpAXLFjAfffd94/727p1K8OGDYu/bmpqYu7cuXR0dBxwbU6xkCRJ0mF3INMp5s+fz8yZM//xM+Xl5YegqiQDsiRJko5qxcXFFBcXH7afZ0CWJEnSf0ZbWxs7duygra2Nnp4ePv/8cwCGDh1KXl7efu3DOciSJEn6z5g5cybLly/fZ/2aNWuorq7er30YkCVJkqSAj3mTJEmSAgZkSZIkKWBAliRJkgIGZEmSJClgQJYkSZICBmRJkiQpYECWJEmSAgZkSZIkKWBAliRJkgIGZEmSJClgQJYkSZIC/wPD7c85Qt0VTAAAAABJRU5ErkJggg=="},41358:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s05-a05203389ee06735c8b4fcc3163dd9ad.png"},20807:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s06-5e41b18a77b0c993857be081889d4734.png"},96583:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s07-a440531b58b5031fba033f53e66f6e1a.png"},13088:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s08-fe883904206a485d4efd4ad12aa06a1e.png"},3639:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s09-f7514cc912e83780b654b492510ef1fc.png"},64958:(e,s,n)=>{n.d(s,{Z:()=>a});const a=n.p+"assets/images/s10-31d14cb56f1b4e20db271d7469b3e04f.png"},11151:(e,s,n)=>{n.d(s,{Z:()=>l,a:()=>r});var a=n(67294);const t={},i=a.createContext(t);function r(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);